<app-navbar [username]="user?.name"></app-navbar>

<div class="container p-3 mt-80" >
  <div class="row">
    <div class="col-md-4">
      <button class="btn bg-info text-white msg-btn" (click)="openMessageModal()">Write Message</button>
    </div>
    <div *ngIf=" noMessages" class="col-md-8 bg-light min-height-400" >
      <div  class="d-flex justify-content-center align-items-center min-height-400" >
        <h1>Questions 0</h1>
      </div>
    </div>
    <div class="col-md-8" >
      <div class="list-group">
        <div *ngFor="let message of messages; let i = index" class="list-group-item bg-info">
          <p class="mb-1">
            {{ message.author.name }} - {{ message.createdAt | date: 'medium' }}
          </p>
          <p class="mb-1 text-white">{{ message.content }}</p>
          <app-message [message]="message"></app-message>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #messageTemplate>
      <div class="modal-content7777">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Write a Message</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" (click)="closeModal()">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="form">
            <div class="form-group">
              <label for="messageInput">Message</label>
              <input type="text" id="messageInput" class="form-control" formControlName="message">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
          <button type="button" class="btn btn-primary" (click)="createMessage()">Save</button>
        </div>
      </div>
</ng-template>
